<link rel="import" href="../bower_components/polymer/polymer.html">

<script>
    Polymer({
        is: "vr-line",

        properties: {
            from: String,
            to: String
        },

        ready: function() {
            if (!this.from || !this.to) {
                console.error('properties from and to must me set');
                return;
            }

            var fromObj = document.querySelector(this.from);
            var toObj = document.querySelector(this.to);
            if (!fromObj || !toObj) {
                console.error('could not find element');
                return;
            }

            var material = new THREE.LineBasicMaterial({
                color: 0x000000,
                linewidth: 2
            });

            var geometry = new THREE.Geometry();
            geometry.vertices.push(this._createVector(fromObj.obj.position));
            geometry.vertices.push(this._createVector(toObj.obj.position));

            this.obj = new THREE.Line(geometry, material);
        },

        _createVector: function(pos) {
            return new THREE.Vector3(pos.x, pos.y, pos.z);
        }

    });
</script>