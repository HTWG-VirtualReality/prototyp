<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="vr-line-generic">
    <template>
        <content id="point" select="vr-point"></content>
    </template>
</dom-module>

<script>
    Polymer({
        is: "vr-line-generic",

        properties: {
            style: String
        },

        ready: function () {

            var material = new THREE.LineBasicMaterial({
                color: 0x000000,
                linewidth: 2
            });

            var geometry = new THREE.Geometry();

            Polymer.dom(this.$.point).observeNodes(function (points) {

                points.addedNodes.forEach(function (point) {
                    geometry.vertices.push(new THREE.Vector3(point.x, point.y, point.z || 0));
                });
            });

            this.obj = new THREE.Line(geometry, material);
        }

    });
</script>